[前端人必须掌握的抓包技能 - 掘金](https://juejin.cn/post/7140040425129115684?utm_source=ug_by_post)
[HTTPS 详解 - 掘金](https://juejin.cn/post/6992206840368988173?searchId=2023072411563442BDD784E23A8F98244C)

HTTPS 除了协议名和默认端口号 443（HTTP 默认端口 80）和 HTTP 不一样，其他的都一样。HTTPS 语义仍然是 HTTP，只不过是在 HTTP 协议栈中 http 与 tcp 之间插入安全层 SSL/TSL。通过 TLS（传输层安全性）或 SSL（安全套接字层）对通讯协议进行加密来保证安全性。


安全层采用对称加密的方式加密传输数据和非对称加密的方式来传输对称密钥，解决 http 数据没有加密、无法验证身份、数据容易纂改三个核心问题。

其中验证身份问题是通过验证服务器的证书来实现的，证书是第三方组织（CA 证书签发机构）使用数字签名技术管理的，包括创建证书、存储证书、更新证书、撤销证书。

公钥用于加密，私钥用于解密。
1. 客户端访问服务器，获得服务器的 CA 证书，包含服务器的公钥。
2. 服务器校验证书合法性，用服务器的公钥加密自己的公钥。
3. 服务器用自己的私钥解密，得到客户端的公钥。
4. 双方可以正常通信：服务器用客户端的公钥加密，用自己的私钥解密，客户端用服务器的公钥加密，用自己的私钥解密。
5. 实际上这个只存在第一步的交换双方的 random 中，后续双方用交换的 random 生成密钥，进行的不再是非对称加密而是对称加密了。
6. 

浏览器连接至一个 HTTPS 网站，服务器发送的不仅仅只是服务器实体证书，而是一个证书链，但不包含根证书，根证书会被内嵌在操作系统里。

校验证书分为两步，证书的签发者校验和服务器实体证书校验。
证书的签发者校验：从上级证书获取公钥验证服务器实体的签名。