[线上崩了？一招教你快速定位问题！ - 掘金](https://juejin.cn/post/7166031357418668040)
线上问题大致可以分两类：一类是接口数据导致的，另一类是数据正常，前端哪里疏忽了导致的。

数据不同：本地更多的是用的测试环境的数据，而线上用的真实环境的数据。不同数据，页面的渲染以及交互可能不同；
代码疏忽：可能是某些场景的边界情况没有处理好，再或者是未做容错降级处理等；

## 后端
本地没问题，线上有问题，一部分原因就是因为后端数据有问题，这里先祭出一个小型必杀技：Ajax Interceptor。
它是一个谷歌插件，可以**拦截页面上的 Ajax 请求，并把返回结果替换成任意文本**。这对 mock 数据、排查线上问题来说简直就是神器！！！
Charles 等抓包软在它面前就是个弟弟（我没有侮辱 Charles 的意思，大家各有长处）。当我知道了这个插件之后，才发现以前的操作都花里胡哨的！！！

点击插件图标，然后设置拦截返回的数据。

## 前端
回归本质，线上不能定位到问题的原因是什么？不就是因为生产环境没有生成和上传 source-map 文件吗！！

部分心急的同学请你把刀放下，我并不是说在生产环境上传 source-map 文件。

我的意思是：生产环境 + 本地的 source-map 文件。
```
 output:{  path: path.resolve(__dirname, "build2") } //原build文件夹在模拟线上环境，这里改成build2防止影响之前的服务
 devtool:"source-map"

打包出build2，包含source-map

执行
npx http-server ./build2

将source-map添加到sources面板中
```
![[Pasted image 20230820232608.png]]
## 集成了 sentry 等监控系统