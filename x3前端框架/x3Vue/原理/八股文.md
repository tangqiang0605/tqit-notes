### 组件中的 data 为什么是一个函数？
1. 组件复用会创建多个实例。
2. 如果 data 是对象，多个实例会指向同一个对象。
3. 如果 data 是工厂函数，返回的是独立对象。

### 为什么 v-for 和 v-if 不建议用在一起
1. 2. x，vFor 高于 vIf，如果要遍历的数组很大，而真正要展示的数据很少时，这将造成很大的性能浪费 （这种场景建议使用 computed，先对数据进行过滤）
2. 3.x 版本中 `v-if` 总是优先于 `v-for` 生效。由于语法上存在歧义，建议避免在同一元素上同时使用两者。
3. 比起在模板层面管理相关逻辑，更好的办法是通过创建计算属性筛选出列表，并以此创建可见元素。

### React/Vue 项目中 key 的作用

- diff 算法中，有 key 使用 map 映射，没有 key 使用遍历查找，前者更快，效率更高。
- 避免 `“就地复用”` 带来的副作用。如果移动元素，vue 的 vFor 是直接按移动后的结果来直接更新每个元素而没有移动。key 可以改变这种行为，直接移动元素。

### 为什么 vue3 中的生命函数要这样写？
按需加载。

### toRefs 是做什么用的？
在结构响应式对象后会失去响应式，可以使用 toRefs 包裹响应式对象再进行结构以保持其响应式。
```
// 失去响应式
let {age}=userInfo

// 仍保持响应式
let {age}=toRefs(userInfo)
```

